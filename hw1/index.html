<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 1 Write-Up</h1>
		<div style="text-align: center;">Names: Stephane Finot, Dhruv Ganesh</div>

		<br>

		Link to webpage: <a href="https://cal-cs184.github.io/hw-webpages-su25-stephane-finot/hw1/index.html">https://cal-cs184.github.io/hw-webpages-su25-stephane-finot/hw1/index.html</a>
		
		<br>

		Link to GitHub repository: <a href="https://github.com/cal-cs184/hw-rasterizer-s-n-d">https://github.com/cal-cs184/hw-rasterizer-s-n-d</a>


		<!--
		We've already added one heading per task, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
			Overview
			<p>In this assignment, we created a basic rasterizer pipeline to handle drawing triangles, texture mapping, antialiasing, and hierarchical transformations. For texture mapping, we implemented Barycentric Coordinates to interpolate between vertices with different color values. This also enabled us to handle UV mapping to add textures. To further refine the texture sampling, we added pixel sampling and level sampling to gain more accurate results with different-sized frame buffers. Supersampling helped with aliasing across all these operations. With this pipeline, we could render SVG files with controllable sample rates and pixel sampling methods.</p>
			It was interesting to decide how to handle different parts of the pipeline, as well as how they all worked synchronously in the end.


			<h2>Task 1: Drawing Single-Color Triangles</h2>
			<p>The first step to rasterizing triangles was to order the vertices of the triangle to be in counterclockwise order to establish a consistent direction for future computation. Next, we iterate over each pixel within the bounding box of the triangle. Using dot product operations, we can determine whether a point is in the direction of a line&#39;s normal vector. Due to the prior ordering of vertices, if all the dot products are positive, then we know a point is in the triangle, and we can draw it.</p>
			The algorithm is no worse than checking each sample within the bounding box of the triangle because we are not checking samples beyond the bounding box.

		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="images/task1.png" width="400px"/>
				  <figcaption>Basic Triangles</figcaption>
				</td>
			  </tr>
			</table>
		</div>
		
		<h2>Task 2: Antialiasing by Supersampling</h2>
			<p>For supersampling, we no longer sample only once per pixel. Instead, we sampled smaller subpixels within each pixel of the frame buffer and stored that data in a larger sample buffer scaled to the size of the sample rate. Within this larger sample buffer, we can average out the color values of the subpixels to determine the color of a full pixel in the original frame buffer size.</p>
			<p>Supersampling is useful because we can depict higher frequencies by allowing more samples to be represented in our rasterization. This can help reduce aliasing like the <q>jaggies</q> apparent in our triangles (see Sample rate 1 image). Namely, if only a corner of a pixel is covered while we only sample once per pixel, it will not show in the frame buffer. With supersampling, the covered corner can be represented by its weight in the averaging of the color for a full pixel. This results in a smooth display as seen in the results.</p>
			<p>One design decision we considered was to scale all the given data before performing calculations and triangle processing, but we determined that this method would be more inefficient and more difficult to use with other features.</p>

			<p>Comparing difference sample rates:</p>
			<div style="display: flex; flex-direction: column; align-items: center;">
				<table style="width: 100%; text-align: center; border-collapse: collapse;">
					<tr>
						<td style="text-align: center;">
							<img src="images/task2_1sample.png" width="400px"/>
							<figcaption>Sample rate 1</figcaption>
						</td>
						<td style="text-align: center;">
							<img src="images/task2_4sample.png" width="400px"/>
							<figcaption>Sample rate 4</figcaption>
						</td>
						<td style="text-align: center;">
							<img src="images/task2_16sample.png" width="400px"/>
							<figcaption>Sample rate 16</figcaption>
						</td>
					</tr>
				</table>
			</div>

			<h2>Task 3: Transforms</h2>
			With hierarchical transforms, we tried to make this cubeman wave at us. Adding subtle bends and leaning makes the pose more natural.
			<div style="display: flex; flex-direction: column; align-items: center;">
				<table style="width: 100%; text-align: center; border-collapse: collapse;">
					<tr>
						<td style="text-align: center;">
							<img src="images/my_robot.png" width="400px"/>
							<figcaption>Robot</figcaption>
						</td>
					</tr>
				</table>
			</div>

		<h2>Task 4: Barycentric Coordinates</h2>
			Barycentric Coordinates are a coordinate system used to determine the position of a point in a triangle relative to its vertices. By measuring the distance between a point and each vertex, we can find the relative distances to each vertex. This is useful for interpolating values across the triangle, as we can multiply the values of the vertices by their weights at the point to have a continuous function between the values of the vertices. In the colored triangle below, each vertex was colored red, green, or blue. We can see how the distance from each vertex dictates the color. For example, moving along the line from the red vertex to the blue vertex, the points do not have any yellow because the yellow vertex is on the opposite side of the triangle and has a weight of 0.
			<p>Examples of using Barycentric Coordinates.</p>
			<div style="display: flex; flex-direction: column; align-items: center;">
				<table style="width: 100%; text-align: center; border-collapse: collapse;">
					<tr>
						<td style="text-align: center;">
							<img src="images/task4.png" width="400px"/>
							<figcaption>Color Wheel</figcaption>
						</td>
						<td style="text-align: center;">
							<img src="images/task4_triangle.png" width="400px"/>
							<figcaption>Colored Triangle</figcaption>
						</td>
					</tr>
				</table>
			</div>

		<h2>Task 5: "Pixel sampling" for texture mapping</h2>
			<p>Pixel sampling is the process of turning the source data into one full pixel on the frame buffer. For instance, if there are many colors within one pixel&#39;s space, our pixel sampling method would determine how to represent all that information in the pixel. We implemented pixel sampling by taking the Barycentric Coordinates of the point in the displayed triangle to the corresponding Barycentric coordinates in the UV space. This allows us to have a mapping to which points in the UV space to interpret.</p>
            <p>With nearest sampling, we take the sample the closest point in the UV space. Bilinear sampling instead takes the nearest four points, and interpolates between them by finding a weighted sum based on the distance to each point to form a final value to return.</p>
			<p>Bilinear sampling generally appears smoother due to its interpolation of nearby pixels. There will be a larger difference between the two when the texture resolution is greater than the frame buffer because the nearest sampling method will lose more data by only being able to represent a quarter of the points that bilinear sampling can represent.</p>

			<p>Below, we can compare nearest and bilinear sampling at 1 and 16 sample rates. Some of the most visible differences are the smoothness of the image, and small details like longitude lines and the brown coast at the center of the image.</p>
			<div style="display: flex; flex-direction: column; align-items: center;">
				<table style="width: 100%; text-align: center; border-collapse: collapse;">
					<tr>
						<td style="text-align: center;">
							<img src="images/t5_nearest_1sample.png" width="400px"/>
							<figcaption>Nearest interpolation: 1 sample</figcaption>
						</td>
						<td style="text-align: center;">
							<img src="images/t5_nearest_16sample.png" width="400px"/>
							<figcaption>Nearest interpolation: 16 samples</figcaption>
						</td>
					</tr>
					<tr>
						<td style="text-align: center;">
							<img src="images/t5_bilinear_1sample.png" width="400px"/>
							<figcaption>Bilinear interpolation: 1 sample</figcaption>
						</td>
						<td style="text-align: center;">
							<img src="images/t5_bilinear_16sample.png" width="400px"/>
							<figcaption>Bilinear interpolation: 16 samples</figcaption>
						</td>
					</tr>
				</table>
			</div>


			<h2>Task 6: "Level Sampling" with mipmaps for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Task 7: Extra Credit - Draw Something Creative!</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>
